
{
  "firebase": {
    "keyFilename": ".keys/planbundle-60068-firebase-adminsdk-mt3dh-1404bc6bf4.json",
    "databaseURL": "https://planbundle-60068.firebaseio.com",
    "projectId": "planbundle-60068"
  },
  "test": {
    "defaultMessage": "Goodnight, Moon",
    "defaultLoud": false
  },
  "debug": {
    "outputPath": "./debug"
  },
  "logger": {
    "prettyPrint": true
  },
  "elasticsearch": {
    "defaultIndex": "*",
    "indices": [
      {
        "name": "bundles",
        "path": "bundles",
        "docSetRef": "firestore.docSets.bundles",
        "objectMapper": "bundleMapper",
        "indexMapping": "./elasticsearch/indexMappings/bundle.json"
      },
      {
        "name": "user_bundles",
        "path": "users/*/bundles",
        "docSetRef": "firestore.docSets.userBundles",
        "objectMapper": "bundleMapper",
        "indexMapping": "./elasticsearch/indexMappings/bundle.json"
      }    
    ]
  },
  "firestore": {
    "backupBasePath": "./backups",
    "docSets": {
      "all": {
        "path": null,
        "recursive": true
      },
      "bundles": {
        "path": "bundles",
        "shallow": true
        // , "filterRegex": "^bundles\/ed18d036-7d95-4f95-86b1-d8679b520a5f$"
      },
      "userBundles": {
        "path": "users",
        "collectionId": "bundles",
        "recursive": true
      },
      "users": {
        "path": "users",
        "shallow": true
      },
      "userImages": {
        "path": "users",
        "collectionId": "images",
        "recursive": true
      }
    },
    "types": [
      { "path": "^bundles\/[^/]+$", "type": "bundle" },
      { "path": "^users\/[^/]+\/bundles\/[^/]+$", "type": "bundle" }
    ]
  },
  "schemas": {
    "bundle": {
      "schemaId": "http://planbundle.com/schemas/bundle.schema.json",
      "schemaFiles": [
        "./schemas/bundle.schema.json",
        "./schemas/contact-item.schema.json",
        "./schemas/event-item.schema.json",
        "./schemas/image-item.schema.json",
        "./schemas/image.schema.json",
        "./schemas/link-item.schema.json",
        "./schemas/note-item.schema.json",
        "./schemas/reminder-item.schema.json",
        "./schemas/timestamp.schema.json",
        "./schemas/contact/date.schema.json",
        "./schemas/contact/email-address.schema.json",
        "./schemas/contact/im-address.schema.json",
        "./schemas/contact/phone-number.schema.json",
        "./schemas/contact/postal-address.schema.json",
        "./schemas/contact/social-profile.schema.json",
        "./schemas/contact/url-address.schema.json"
      ]
    }
  }
}